<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Prompt Master</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; top: 10px; right: 10px; z-index: 10000; background: rgba(0,0,0,0.9); padding: 15px; border-radius: 10px; border: 2px solid #ffeb3b; box-shadow: 0 0 20px rgba(255, 235, 59, 0.3);">
  <div style="color: #ffeb3b; font-weight: bold; margin-bottom: 10px; text-align: center; cursor: pointer;" onclick="toggleMusicPlayer()">ğŸµ Musik <span id="minimizeIcon">ğŸ”½</span></div>
  <div id="musicControls">
    <div style="margin-bottom: 10px;">
      <input type="text" id="youtubeUrl" placeholder="YouTube Link einfÃ¼gen" style="width: 200px; padding: 5px; border-radius: 5px; border: 1px solid #ccc; font-size: 12px;">
      <button id="loadMusicBtn" style="padding: 5px 10px; margin-left: 5px; background: #ff5252; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">ğŸ¶ Laden</button>
    </div>
    <div style="display: flex; align-items: center; gap: 10px;">
      <button id="playPauseBtn" style="background: #4CAF50; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">â–¶ï¸ Play</button>
      <button id="stopBtn" style="background: #f44336; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">â¹ï¸ Stop</button>
      <input type="range" id="volumeSlider" min="0" max="100" value="50" style="width: 80px;">
      <span id="volumeLabel" style="color: #fff; font-size: 12px;">50%</span>
    </div>
    <div id="nowPlaying" style="color: #fff; font-size: 11px; margin-top: 5px; text-align: center;"></div>
  </div>
</div>

<!-- YouTube iframe for music -->
<iframe id="musicFrame" width="0" height="0" style="position: absolute; top: -9999px; left: -9999px;" frameborder="0" allow="autoplay; encrypted-media"></iframe>

<h1>Prompt Master</h1>

<div id="startScreen">
  <div class="christmas-banner">
    <span>ğŸ„ Ho Ho Ho! ğŸ„</span>
    <span>ğŸ Frohe Weihnachten! ğŸ</span>
    <span>â›„ Let it Snow! â›„</span>
  </div>
  
  <button id="createGameBtn">ğŸ… Weihnachtsspiel erstellen (Santa Host) ğŸ„</button>

  <h3>ğŸ¦Œ Rudolph's Team beitreten ğŸ¦Œ</h3>
  <input
    id="usernameInput"
    placeholder="ğŸ§â€â™‚ï¸ Dein Elf-Name"
    required
    minlength="2"
  >
  <input
    id="joinCodeInput"
    placeholder="ğŸ„ Migic XMas Code"
  >
  <button id="joinGameBtn">ğŸ¦Œ Zu Santa's Workshop</button>
</div>

<div id="hostLobby" class="hidden">
  <h2>ğŸ… Santa's Magischer Workshop-Code: ğŸ„</h2>
  <div id="lobbyCode" class="codeBox"></div>

  <h3>ğŸ§â€â™‚ï¸ Weihnachtself-Team: ğŸ§â€â™€ï¸</h3>
  <ul id="lobbyPlayers"></ul>

  <div id="hostImageUpload">
    <h3>ğŸ Weihnachtliche Vorlage hochladen: â­</h3>
    <p>ğŸ“ Lade eine beliebige Datei hoch (alle Formate erlaubt)!</p>
    <input type="file" id="hostImageInput">
    <button id="uploadHostImageBtn">ğŸ„ Weihnachts-Vorlage hochladen</button>
  </div>

  <button id="startRoundBtn">ğŸ… Weihnachts-Runde starten! ğŸ¦Œ</button>
</div>

<div id="waitingScreen" class="hidden">
  <h2>ğŸ„ Runde beigetreten! ğŸ…</h2>
  
  <div id="playersWaiting">
    <h3>ğŸ§â€â™‚ï¸ Andere Spieler: ğŸ§â€â™€ï¸</h3>
    <ul id="waitingPlayersList"></ul>
  </div>
  
  <h3>ğŸ„ Warte bis der Host die Runde startet... ğŸ…</h3>
</div>

<div id="gameScreen" class="hidden">
  <p id="statusTxt"></p>
  
  <div id="hostTemplateImage" class="hidden">
    <h3>ğŸ Santa's Geschenk-Vorlage: ğŸ„</h3>
    <img id="templateImage" style="max-width: 400px; max-height: 400px; border-radius: 12px; margin: 20px 0;">
    <div id="gameInstruction">
      <h2 style="color: #ffeb3b; font-weight: bold; margin: 20px 0; text-shadow: 0 0 15px #ff5252;">
        ğŸ… HO HO HO! ERSCHAFFE DIESES WEIHNACHTSWUNDER! ğŸ„
      </h2>
      <p style="color: #fff; font-size: 18px;">
        ğŸ§â€â™‚ï¸ Erstelle ein Bild basierend auf dieser Vorlage! ğŸ§â€â™€ï¸
      </p>
    </div>
    <div id="timer" style="font-size: 28px; font-weight: bold; color: #ffeb3b; margin: 20px 0; text-shadow: 0 0 10px #ff5252;">
      â° Weihnachts-Timer: 01:30 ğŸ„
    </div>
  </div>

  <div id="playersInGame">
    <h4>ğŸ§â€â™‚ï¸ Weihnachtself-Team: ğŸ§â€â™€ï¸</h4>
    <ul id="gamePlayersList"></ul>
  </div>
  

  <div id="uploadArea">
    <h4>ğŸ Lade deine Datei hoch: ğŸ“¸</h4>
    <p style="color: #ffeb3b; margin: 10px 0;">
      ğŸ’¡ Tipp: Nutze <a href="https://gemini.google.com/" target="_blank" style="color: #ff5252; text-decoration: underline;">Google Gemini</a> um Bilder zu generieren!
    </p>
    <p style="color: #4CAF50; margin: 15px 0; font-weight: bold;">
      ğŸ¤– <a href="#" id="aiLink" style="color: #4CAF50; text-decoration: underline;">NUTZE DIESE KI</a> [Platzhalter fÃ¼r KI-Tool]
    </p>
    <p style="color: #fff; margin: 10px 0; font-size: 14px;">
      ğŸ“ Alle Dateitypen erlaubt: Bilder, Text, Videos, Audio, etc. - Kein GrÃ¶ÃŸenlimit!
    </p>
    <input type="file" id="imageUpload">
    <button id="uploadImageBtn">ğŸ„ Datei hochladen ğŸ…</button>
  </div>

  <button id="stopRoundBtn" class="hidden">ğŸ… Weihnachts-Runde beenden! ğŸ„</button>
</div>

<div id="votingSection" class="hidden">
  <div class="christmas-banner">
    <span>ğŸ„ Ho Ho Ho! Bewertungszeit! ğŸ„</span>
    <span>â­ Santa's Stern-Vergabe! â­</span>
    <span>ğŸ Wer bekommt das schÃ¶nste Geschenk? ğŸ</span>
  </div>
  
  <div id="playersInVoting">
    <h4>ğŸ§â€â™‚ï¸ Weihnachtself-Team: ğŸ§â€â™€ï¸</h4>
    <ul id="votingPlayersList"></ul>
  </div>
  <h3 style="text-align: center; color: #ffeb3b; margin: 20px 0; text-shadow: 0 0 10px #ff5252;">
    â­ ğŸ… Santa braucht deine Hilfe! Bewerte die Weihnachtswunder (1-5 Sterne)! ğŸ„ â­
  </h3>
  <div id="votingTimer" style="text-align: center; font-size: 24px; font-weight: bold; color: #ffeb3b; margin: 15px 0;">
    â° Zeit: 30s
  </div>
  <div id="votingContainer"></div>
</div>

<div id="adminResults" class="hidden">
  <div class="christmas-banner">
    <span>ğŸ† Ho Ho Ho! Die Gewinner! ğŸ†</span>
    <span>ğŸ Santa's Favoriten! ğŸ</span>
    <span>â­ Weihnachtswunder-Champions! â­</span>
  </div>
  
  <h3 id="winnerName" style="color: #ffeb3b; text-shadow: 0 0 15px #ff5252;"></h3>
  <img id="winnerImage">
  <table id="resultsTable">
    <tr>
      <th>ğŸ§â€â™‚ï¸ Elf-Name ğŸ§â€â™€ï¸</th>
      <th>â­ Stern-Durchschnitt</th>
      <th>ğŸ„ Einzelbewertungen</th>
      <th>ğŸ Gesamt-Punkte</th>
    </tr>
  </table>
  <button id="newRoundBtn">ğŸ… NÃ¤chste Weihnachts-Runde! ğŸ¦Œ</button>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
